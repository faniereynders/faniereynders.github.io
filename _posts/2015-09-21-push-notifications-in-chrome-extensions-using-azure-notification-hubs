---
published: false
layout: post
title: Push notifications in Chrome Extensions using Azure Notification Hubs
author: Fanie Reynders
tags: 
  - Google
  - Chrome
  - Microsoft
  - Azure
  - Notification Hubs
  - Toast notifications
  - Push notifications
---


In the past couple of months I've been co-organizing a monthly user group called Fixxup, to create a community platform for techies out there to share their knowledge, listen to their peers or even just enjoy the social living by enjoying a beer or two.

Fixxup also has a website hosted on GithHub Pages and we recently started to live stream our sessions to the rest of the world. When organizing such events it's important to do the proper marketing to target the right audience. 

Although we are making use of social media to promote these events, I wanted an alternative way to get people's attention in realtime; so I built a Chrome Extension called Fixxup Live that will only do one thing: Receive real-time push notifications when we are broadcasting live.

So I thought it would be fun creating this guide to make use of Azure Notification Hubs for receiving push notifications on any platform, in this case Google Chrome.

<!--more-->

## What you'll need
- A Microsoft Azure Subscription (get a free trial here)
- Your favorite text editor (I use Visual Studio Code, it's awesome)
- A Google Chrome Browser (download here)
- Some knowledge on Chrome Extensions (ramp up here & here)

## Overview of push notifications
![Overview of how push notifications work](https://acomdpsstorage.blob.core.windows.net/dpsmedia-prod/azure.microsoft.com/en-us/documentation/articles/notification-hubs-overview/20150831045959/registration-diagram.png)

*Image source: https://azure.microsoft.com/en-us/documentation/articles/notification-hubs-overview*

As you can see, the app back-end is responsible for keeping track and storing of PNS (Post Notification Service) handle registrations. 

By using Azure Notification Hubs we move the management of PNS registrations to an external managed service.

![Overview of push notifications using Azure Notification Hubs](https://acomdpsstorage.blob.core.windows.net/dpsmedia-prod/azure.microsoft.com/en-us/documentation/articles/notification-hubs-overview/20150831045959/notification-hub-diagram.png)

*Image source: https://azure.microsoft.com/en-us/documentation/articles/notification-hubs-overview*

## 1. Create a Notification Hub
Assumingly you've already signed up for Microsoft Azure, go to the Azure Portal by pointing your browser to https://manage.windowsazure.com.

On the *Service Bus* section click *Create*:
![new-ns.png]({{site.baseurl}}/post-images/21-sep-2015/new-ns.png)

Next, fill in an unique name that will identify your namespace and choose *Notification Hub* as the type. You can also set the region and applicable subscription if you want.

![new-ns-box.png]({{site.baseurl}}/post-images/21-sep-2015/new-ns-box.png)

After the namespace is created, open it by clicking on its name and then click *Create a new notification hub* from the *Notification Hubs* section.

![new-nh.png]({{site.baseurl}}/post-images/21-sep-2015/new-nh.png)

You will be prompted for a Hub name, region, subscription and namespace.

![new-nh-box.png]({{site.baseurl}}/post-images/21-sep-2015/new-nh-box.png)

Submit the details by clicking the *Create a new notification hub* button. We now should have a Notification Hub called *Fixxup-Live* inside the *Fixxup* namespace.

## 2. Take note of the connection string
Open the details of the Notification Hub and then click on the *View Connection String* link.

![view-connection.png]({{site.baseurl}}/post-images/21-sep-2015/view-connection.png)
